 # MediGraphRAG

------
大模型构建医疗知识图谱—>构建医疗知识图谱RAG

## 数据来源

- `医学考试试题` 
- `医疗书籍`：https://github.com/scienceasdf/medical-books

## 知识图谱构建

- **[dataProcess.ipynb](dataProcess/dataProcess.ipynb)**
### 知识图谱构建

#### 1. 知识点抽取

通过`qwen2.5:14b`从医学试题中抽取考题知识点，我们需要设置`promat`暗示模型需要进行知识的提取，而不是进行该题目的解题

`folder_path`的地址需要换成你的医疗试题数据集的地址，同时注意你的文档的清洗方式需要修改

从每一到试题中提取一个知识点，将其转换为`dict`格式，以便后续转为`json`,值得注意的是由于模型处理速度偏慢，且由于本地数据清洗可能存在内存溢出，模型宕机等情况，在这里我选择进行多次`IO操作`，牺牲时间以保证安全性的策略，在每次读取后立即进行数据的存储

清洗后的数据存储在[knowledge.json](data/knowledge.json)中：
 ```text
 [
    {
        "knowledge": "急性造血停滞的特点包括突然出现的全血细胞减少、网织红细胞可降至零以及骨髓中可见巨大原红细胞。此病通常在无血液病的患者中发生，且其病程常呈自限性，在适当的支持治疗下可以自然恢复。因此选项A（均发生于无血液病的患者）不符合急性造血停滞的特点。"
    },
    {
        "knowledge": "老年人行走时不慎滑倒后出现右髋部疼痛、局部压痛及下肢短缩和外旋畸形，提示可能发生髋部损伤。根据症状描述，最可能的诊断是股骨转子间骨折。此部位骨折的特点包括短缩外旋畸形，且患者的年龄和跌倒方式增加了此类骨折的可能性。其他选项如髋关节脱位、髋臼骨折等虽然也可能导致类似的局部表现，但结合患者的具体体征，B项更符合临床实际情况。"
    },
    {
        "knowledge": "梗阻性黄疸的B超诊断最直接证据是肝内胆管普遍扩张以及胆总管直径增大。选项A中的描述‘肝内胆管普遍扩张，胆总管直径1.5cm’符合这一特征。因此，A是最直接的支持梗阻性黄疸诊断的结果。"
    }
  ]
 ```
#### 2. 关系抽取
加班实现中......